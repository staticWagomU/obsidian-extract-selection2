# 開発の軌跡（Git Commit からのタイムライン）

このドキュメントは、Git のコミットログを時系列で読み解き、プラグイン開発の流れをブログ向けに整理したものです。期間は **2026-01-09 〜 2026-01-15** です。途中で名称が **Daily Zettel → Page Zettel → Extract Selection** と変遷しています。

## 全体像（ハイライト）

- **2026-01-09**: プロジェクトの雛形構築、ツールチェーン整備、Scrum ダッシュボード導入。PBI をスプリント単位で順次実装開始。
- **2026-01-10**: コア機能（抽出・孤立検出・統計・クイック入力・自動フォルダ生成）を一気に実装。
- **2026-01-11**: 設計変更に合わせて Structure/Index 関連を削除し、ノートタイプを 3 種類へ整理。
- **2026-01-12〜13**: Alias 入力、テンプレ変数強化、NoteCreatorService、各種コマンド統合を進行。ドキュメント・CI・配布準備まで到達。
- **2026-01-14〜15**: Extract Selection へ再ブランディングし、UI/UX 統合・i18n・設定 UI の完成度を上げ、最終的にテンプレ管理 UI・ファイル/絵文字選択などの体験強化へ。

---

## 日別タイムライン（主要コミット要約）

### 2026-01-09（金）
- **初期構成**: プラグインのベースファイル群を追加（`main.ts` / `settings.ts` / `manifest.json` など）。
- **開発体験の高速化**: oxlint / oxfmt 導入、ESLint とのハイブリッド運用へ移行。
- **Scrum ダッシュボード導入**: `scrum.ts` を Single Source of Truth にして PBIs/Sprints を管理。
- **PBI-001**: NoteType などの型定義を実装し、型安全の土台を構築。
- **PBI-002**: FrontmatterService を実装し、フロントマター操作 API を確立。
- **PBI-003**: UI モーダル・ExtractSelectionCommand・StructureSuggestModal を実装。
- **PBI-004**: Template ベースのノート作成フローを実装。
- **PBI-005**: 設定タブ UI（初期版）を実装。
- **PBI-006〜008**: Promotion / Permanent 接続 / 孤立検出とビュー実装。

### 2026-01-10（土）
- **統計表示**: OrphanView に接続率統計（PBI-011）を追加。
- **クイック入力**: QuickCaptureModal と quick-fleeting コマンド（PBI-009）。
- **自動フォルダ生成**: 初期フォルダ構成の自動生成（PBI-010）。
- **リネーム**: Daily Zettel → Page Zettel へ名称変更。
- **FolderSuggest**: フォルダ入力補助 UI（PBI-012）。
- **コンテキストメニュー統合**: editor / file explorer にメニュー追加（PBI-013）。
- **i18n 基盤**: 国際化の基盤を整備し、画面・モーダル・メニューへ適用（PBI-014）。
- **改善**: 既存フォルダがある場合の初期化処理を修正。

### 2026-01-11（日）
- **設計リファクタ**: Structure/Index 関連を削除し、NoteType を 3 種類に整理（PBI-016）。
- **設定拡張**: ノートタイプ別設定 UI を段階的に追加（PBI-017）。

### 2026-01-12（月）
- **AliasInputModal**: エイリアス入力モーダルの実装と設定連携（PBI-018）。
- **テンプレ変数拡張**: `{{alias}}` などのプレースホルダ追加（PBI-019）。
- **NoteCreatorService**: ファイル名生成・配置などの土台実装（PBI-020）。

### 2026-01-13（火）
- **Create New Note コマンド**: NoteTypeModal 統合（PBI-021）。
- **Extract to Note 強化**: i18n 対応やリンク置換などを拡充（PBI-022）。
- **孤立検出ロジック変更**: リンクベース判定へ切替（PBI-023）。
- **移動挙動の調整**: PromotionService に moveOnPromotion 設定を追加（PBI-025）。
- **コンテキストメニュー整理**: ノートタイプ別抽出メニューへ（PBI-026）。
- **カスタム YAML マージ**: テンプレート側 YAML をマージ可能に。
- **ドキュメント・CI**: README 更新、リリースワークフロー追加。

### 2026-01-14（水）
- **再ブランディング**: Page Zettel → Extract Selection。
- **Scrum ダッシュボード再構築**: 抽出特化仕様に合わせて PBI と Sprint を再定義。
- **型/設定の大規模移行**: ExtractionTemplate 型や設定構造へ移行。
- **レガシー削除**: Zettelkasten 系の古い実装を整理。
- **テンプレ UI 統合**: TemplateSelectModal / TemplateEditModal を実装。
- **コマンド統合**: extract-selection コマンドと NoteCreatorService を統合し、コンテキストメニューも実装。
- **i18n 強化**: Template 編集 UI とメニューの翻訳キー追加。
- **設定 UI の完成**: テンプレ管理 UI（一覧・CRUD・並べ替え・お気に入り）を実装。
- **不具合修正**: alias を YAML frontmatter に反映。

### 2026-01-15（木）
- **UX 改善**: テンプレート編集で FileSuggest を追加。
- **コマンド視認性向上**: Extract to Note にアイコン付与。
- **絵文字ピッカー**: テンプレアイコン選択を検索対応のピッカーに変更。

---

## Sprint / PBI で見る成長の流れ（要約）

- **PBI-001〜002**: 型定義と Frontmatter 操作の基盤を固める。
- **PBI-003〜008**: UI モーダル・抽出・昇格・孤立検出・接続機能を段階的に拡張。
- **PBI-009〜015**: Quick Capture / フォルダ自動生成 / コンテキストメニュー / i18n 基盤まで展開。
- **PBI-016〜017**: 設計見直し（Structure削除・NoteType整理）と設定 UI の増強。
- **PBI-018〜023**: Alias 入力・テンプレ変数・NoteCreatorService・抽出/孤立検出改善。
- **PBI-024〜026**: 検証・リリース準備、抽出メニュー体験の完成度向上。
- **再ブランディング対応**: Extract Selection への再設計・再実装フェーズ。

---

## 開発プロセスの特徴（ログから読み取れること）

- **TDD に近いスプリント運用**: PBI を細分化し、サブタスク単位で実装と完了レビューを繰り返す。
- **DoD の徹底**: build / lint / format の実行結果をスプリントレビューに必ず記録。
- **高速ツールチェーン**: oxlint / oxfmt の採用で開発体験を高速化。
- **設計の柔軟性**: 途中でドメイン（Zettel 系）から Extract Selection へ大胆に方向転換。
- **UI/UX の深化**: モーダル・設定画面・コンテキストメニューなどユーザー導線の改善が継続的に実施。

---

## ブログ用のまとめメッセージ（下書き）

開発は **2026年1月9日** に始まり、まずは Obsidian プラグインの骨格とツールチェーンを整備しました。Scrum ダッシュボードを軸に PBI をスプリント単位で進め、型定義・フロントマター操作・テンプレ選択 UI・抽出コマンド・孤立ノート検出など、コア機能を短いサイクルで積み上げていきました。

その後、設計変更に合わせて構造ノート関連を削除し、ノートタイプを整理。さらに Alias 入力、テンプレ変数強化、NoteCreatorService、国際化基盤などを段階的に追加しました。

最終的には **Page Zettel から Extract Selection へ再ブランディング**し、設定画面のテンプレ管理 UI、コンテキストメニューの改善、i18n、ファイル/絵文字選択といった UX 改善まで到達。短期間で方向転換しながらも、DoD 検証を繰り返すことで品質を担保し、ブログに書けるだけの濃密な開発履歴になりました。
